<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="InterviewQue">
    <select id="finById" parameterType="Long" resultType="InterviewQueDto">
        /* findOne :: 질문 상세 조회 */
        SELECT *
        FROM tb_interview_que
        WHERE queId = #{queId}
    </select>

    <select id="findAll" resultType="List">
        /* findAll :: 주제 별 질문 조회 */
        SELECT *
        FROM tb_interview_que
        WHERE delYn != 1 AND titleId=#{titleId}
    </select>

    <insert id="save" parameterType="InterviewQudDto" useGeneratedKeys="true" keyProperty="id">
        /* save :: 질문 등록 */
        INSERT INTO tb_interview_que
        SET titleId=#{titleId}
                , question=#{question}
                , regDt=NOW()
    </insert>

    <update id="update" parameterType="InterviewQueDto">
        /* update :: 질문 수정 */
        UPDATE tb_interview_que
        SET question = #{question}
          ,updDt = NOW()
        WHERE queId = #{queId}
    </update>

    <update id="delete" parameterType="Long">
        /* update :: 질문 삭제 */
        UPDATE tb_interview_que
        SET delYn = 1
        WHERE queId = #{queId}
    </update>
</mapper>